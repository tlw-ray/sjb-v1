# 开发日志

作者: 唐力伟

邮箱: tlw_ray@163.com

## 技术框架

* 后端环境
    - JDK8+
    - SpringBoot2+
        - Security
        - Web
        - WebSocket
            - SockJS
                - Stomp
    - mongoDB
* 前段环境
    - Html5
        - JQuery3.1
        - SockJS
        - BootStrap
    - VUE
    - 微信
        - 公众号
        - 小程序
* 开发环境
    - Intellij Idea64 2018.2
    - Gradle
    
* 版本控制:
    - Github: http://github.com/xskr/sjb-v1
    
## 未决问题

- IDEA在Gradle项目下未能拷贝源码目录下的*.properties到编译的输出路径;

  解决: 需要修改build.gradle文件,添加资源处理的脚本
  
  状态: 尚未解决
  
- 服务端客户端传递用户信息应该用房间内座位号。

- Room类较大600+行，应收缩或拆分代码

- 玩家与房间的关系内是全局的，加入别的房间时，应退出当前房间。

- 更高层次的抽象，不同游戏具有相同或类似的房间概念。

- SpringBoot的SLF4j日志库默认没有输出方法名，希望知道是哪个方法的日志。

- 提供微信客户端

- 登录应采用无Session技术

## 开发日志
* 20180914: 开发WebSocket的点对点功能，并实现了单独例子。另外多房间时游戏逻辑内似乎不存在真正的广播，只有系统实时通告才需要广播，于是计划使用点对点模式做所有的推送。初步完成一个粗糙的前端。
* 20180913: 开始开发带有流程的页面，发现仅仅WebSocket广播难以实现良好的点对点消息推送。广播通过路径过滤，但实际上消息还是发往了每个客户端。
* 20180912: HttpClient似乎不支持WebSocket，另外发现如果只是测试功能的话两个玩家就可。所以通过开启FireFox和Chrome就可以达到测试目的。
* 20180911: 由于该游戏需要多个用户同时进行测试，浏览器开多个客户端会比较麻烦（后来得知Chrom具有模拟多用户功能），于是开发了JavaFX的窗体应用，通过HttpClient模拟多客户端
* 20180910: 开发前端功能，通过一个页面将所有功能加入供测试用
* 20180909: 测试并完善后端逻辑，增加猎人逻辑。
* 20180908: 测试并完善后端逻辑。搭建VUE的前端脚手架。
* 20180907: 开发一夜狼人杀的功能列表测试页面，连接前后端RESTful接口。        
* 20180906: 开发一夜狼人杀的主要逻辑包。
* 20180905: 试图添加独立的房间Room概念，由于该功能次要且抽象为较快出效果，先开发一夜狼人杀游戏，再抽象Room概念。
* 20180904: 调整猜拳游戏规则为实时判赢，玩家存在超时未出的放弃状态。创建项目Readme.md。
* 20180903: 增加玩家猜拳统计和胜平负统计功能。
* 20180902: 调整猜拳功能的bug。
* 20180831: 解决WebSocket， Login等功能。通过Docker技术发布到远端服务器。
* 20180830: 创建并提交石头剪刀布项目，为开发一款具备人工智能特性的多人桌游平台。从最简单规则的博弈游戏石头剪刀布入手。

